---
layout: default
---

<div class="topic-page">
    <header class="topic-header">
        <div class="breadcrumb">
            <a href="{{ '/' | relative_url }}">Главная</a> 
            <span class="separator">›</span>
            <span class="current">{{ page.category | default: "Тема" }}</span>
        </div>
        <h1 class="topic-title">{{ page.title }}</h1>
        {%- if page.description -%}
            <p class="topic-description">{{ page.description }}</p>
        {%- endif -%}
    </header>

    <div class="topic-content">
        {%- if page.toc != false -%}
            <nav class="table-of-contents">
                <h3><i class="fas fa-list"></i> Содержание</h3>
                <!-- TOC будет добавлено позже -->
            </nav>
        {%- endif -%}

        <div class="content-wrapper">
            {{ content }}
        </div>
    </div>

    <footer class="topic-footer">
        <div class="navigation-links">
            {%- assign collection = site.collections | where: "label", page.collection | first -%}
            {%- if collection -%}
                {%- assign docs = collection.docs | sort: "title" -%}
                {%- assign current_index = docs | map: "url" | find_exp: "item", "item == page.url" -%}
                {%- for doc in docs -%}
                    {%- if doc.url == page.url -%}
                        {%- assign current_pos = forloop.index0 -%}
                        {%- break -%}
                    {%- endif -%}
                {%- endfor -%}
                
                <div class="prev-next">
                    {%- if current_pos > 0 -%}
                        {%- assign prev_doc = docs[current_pos | minus: 1] -%}
                        <a href="{{ prev_doc.url | relative_url }}" class="prev-link">
                            <i class="fas fa-chevron-left"></i>
                            {{ prev_doc.title }}
                        </a>
                    {%- endif -%}
                    
                    {%- assign next_pos = current_pos | plus: 1 -%}
                    {%- if next_pos < docs.size -%}
                        {%- assign next_doc = docs[next_pos] -%}
                        <a href="{{ next_doc.url | relative_url }}" class="next-link">
                            {{ next_doc.title }}
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    {%- endif -%}
                </div>
            {%- endif -%}
        </div>

        <div class="back-to-top">
            <a href="#top" class="btn-back-to-top">
                <i class="fas fa-arrow-up"></i>
                Наверх
            </a>
        </div>
    </footer>
</div> 